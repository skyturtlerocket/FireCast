{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Flame,AlertTriangle,Calendar,Thermometer,Wind,Eye,X,RefreshCw}from'lucide-react';// ========================================================================================================================================\n// API calls to Flask backend\n// ========================================================================================================================================\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fetchRealTimeFireData=async()=>{try{console.log(\"Fetching real-time fire data from Flask backend...\");const response=await fetch('http://localhost:5000/api/fires',{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json'}});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();console.log(`Received ${data.total||0} fires from backend`);return data.fires||[];}catch(error){console.error('Failed to fetch fire data from backend:',error);throw error;}};// ========================================================================================================================================\n// Dashboard component\n// ========================================================================================================================================\nconst WildfireDashboard=()=>{//stuff with ui states\nconst[fires,setFires]=useState([]);const[selectedFire,setSelectedFire]=useState(null);const[prediction,setPrediction]=useState(null);const[loading,setLoading]=useState(false);const[showPrediction,setShowPrediction]=useState(false);const[mapLayer,setMapLayer]=useState('satellite');const[dataError,setDataError]=useState(null);const[isLoadingData,setIsLoadingData]=useState(true);const mapRef=useRef(null);const mapInstanceRef=useRef(null);const markersRef=useRef([]);const polygonsRef=useRef([]);useEffect(()=>{// Load real-time fire data when component mounts\nconst loadFireData=async()=>{try{setIsLoadingData(true);setDataError(null);const realTimeFireData=await fetchRealTimeFireData();setFires(realTimeFireData);console.log('Fire data loaded successfully:',realTimeFireData.length,'fires');}catch(error){console.error('Failed to load real-time fire data:',error);setDataError(error.message);setFires([]);// Set empty array on error\n}finally{setIsLoadingData(false);}};loadFireData();// loading leaflet and css\nconst loadLeaflet=async()=>{try{// adding css\nif(!document.querySelector('link[href*=\"leaflet\"]')){const link=document.createElement('link');link.rel='stylesheet';link.href='https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css';document.head.appendChild(link);}// loading leaflet\nif(!window.L){const script=document.createElement('script');script.src='https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js';script.onload=()=>{console.log('Leaflet loaded successfully');initializeMap();};script.onerror=()=>{console.error('Failed to load Leaflet');};document.head.appendChild(script);}else{initializeMap();}}catch(error){console.error('Error loading Leaflet:',error);}};//starting the map for the user\nconst initializeMap=()=>{if(!mapRef.current||mapInstanceRef.current)return;try{const L=window.L;// Initialize the map to be in San Francisco Bay Area\n// we could use the user's location in real production, but this is just a default location\nconst map=L.map(mapRef.current,{center:[37.7749,-122.4194],zoom:10,zoomControl:false});// add tile layers because leaflet doesn't have satellite on default\nconst getTileUrl=layer=>{switch(layer){case'satellite'://satellite\nreturn'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';case'terrain'://terrain map\nreturn'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';default://normal\nreturn'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';}};// credits to open street map\nconst tileLayer=L.tileLayer(getTileUrl(mapLayer),{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(map);// references\nmapInstanceRef.current=map;mapInstanceRef.current.tileLayer=tileLayer;// add the markers when fires are loaded\nif(fires.length>0){addFireMarkers(map,L);}// map resizing\nconst resizeObserver=new ResizeObserver(()=>{map.invalidateSize();});resizeObserver.observe(mapRef.current);console.log('Map initialized successfully');}catch(error){console.error('Error initializing map:',error);}};loadLeaflet();// actually display ts\nreturn()=>{if(mapInstanceRef.current){mapInstanceRef.current.remove();mapInstanceRef.current=null;}};},[]);// change the tiles when the map type changes\nuseEffect(()=>{if(mapInstanceRef.current&&mapInstanceRef.current.tileLayer){const L=window.L;mapInstanceRef.current.removeLayer(mapInstanceRef.current.tileLayer);const getTileUrl=layer=>{switch(layer){case'satellite':return'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';case'terrain':return'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';default:return'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';}};const newTileLayer=L.tileLayer(getTileUrl(mapLayer),{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(mapInstanceRef.current);mapInstanceRef.current.tileLayer=newTileLayer;}},[mapLayer]);useEffect(()=>{if(mapInstanceRef.current&&window.L&&fires.length>0){addFireMarkers(mapInstanceRef.current,window.L);}},[fires]);const addFirePolygons=(map,L,fire)=>{const{geometry}=fire;try{if(geometry.type==='Polygon'){// For Polygon: coordinates[0] is the outer ring\nconst coords=geometry.coordinates[0];// Validate coordinates array\nif(!coords||coords.length<3){console.warn('Invalid polygon coordinates for fire:',fire.name);return;}// Convert [lng, lat] to [lat, lng] and filter out invalid coordinates\nconst leafletCoords=coords.filter(coord=>Array.isArray(coord)&&coord.length>=2&&typeof coord[0]==='number'&&typeof coord[1]==='number'&&!isNaN(coord[0])&&!isNaN(coord[1])).map(coord=>[coord[1],coord[0]]);if(leafletCoords.length<3){console.warn('Not enough valid coordinates for polygon:',fire.name);return;}const polygon=L.polygon(leafletCoords,{color:'#ef4444',weight:2,opacity:0.8,fillColor:'#ef4444',fillOpacity:0.2}).addTo(map);polygonsRef.current.push(polygon);}else if(geometry.type==='MultiPolygon'){geometry.coordinates.forEach((polygonCoords,index)=>{const coords=polygonCoords[0];// outer ring\nif(!coords||coords.length<3){console.warn(`Invalid polygon coordinates for fire ${fire.name}, polygon ${index}`);return;}const leafletCoords=coords.filter(coord=>Array.isArray(coord)&&coord.length>=2&&typeof coord[0]==='number'&&typeof coord[1]==='number'&&!isNaN(coord[0])&&!isNaN(coord[1])).map(coord=>[coord[1],coord[0]]);if(leafletCoords.length<3){console.warn(`Not enough valid coordinates for polygon ${index} of fire:`,fire.name);return;}const polygon=L.polygon(leafletCoords,{color:'#ef4444',weight:2,opacity:0.8,fillColor:'#ef4444',fillOpacity:0.2}).addTo(map);polygonsRef.current.push(polygon);});}}catch(error){console.error('Error adding fire polygon for',fire.name,':',error);}};const getIconSizeForSeverity=severity=>{switch(severity){case'High':return{size:48,fontSize:'24px'};case'Medium':return{size:36,fontSize:'18px'};case'Low':default:return{size:24,fontSize:'12px'};}};const getSeverityBackgroundColor=severity=>{switch(severity){case'High':return'#ef4444';case'Medium':return'#f97316';case'Low':default:return'#eab308';}};const addFireMarkers=(map,L)=>{// clearing markers and polygons\nmarkersRef.current.forEach(marker=>map.removeLayer(marker));polygonsRef.current.forEach(polygon=>map.removeLayer(polygon));markersRef.current=[];polygonsRef.current=[];// markers for the fire\nfires.forEach(fire=>{// Add polygon outlines\naddFirePolygons(map,L,fire);// Get icon size and background color based on severity\nconst iconConfig=getIconSizeForSeverity(fire.severity);const backgroundColor=getSeverityBackgroundColor(fire.severity);// fire icon with dynamic sizing and color\nconst fireIcon=L.divIcon({html:`<div style=\"\n          background: ${backgroundColor};\n          width: ${iconConfig.size}px;\n          height: ${iconConfig.size}px;\n          border-radius: 50%;\n          border: 3px solid white;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.4);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: ${iconConfig.fontSize};\n          cursor: pointer;\n        \">ðŸ”¥</div>`,className:'fire-marker',iconSize:[iconConfig.size,iconConfig.size],iconAnchor:[iconConfig.size/2,iconConfig.size/2],popupAnchor:[0,-iconConfig.size/2]});// Add marker\nconst marker=L.marker([fire.lat,fire.lng],{icon:fireIcon}).addTo(map).bindPopup(`\n          <div style=\"color: #374151; font-family: system-ui;\">\n            <h3 style=\"font-weight: bold; font-size: 16px; margin: 0 0 8px 0;\">${fire.name}</h3>\n            <p style=\"margin: 2px 0;\">Size: ${fire.size} acres</p>\n            <p style=\"margin: 2px 0;\">Containment: ${fire.containment?`${fire.containment}%`:'N/A'}</p>\n            <p style=\"margin: 2px 0; color: ${getSeverityColorHex(fire.severity)}; font-weight: 600;\">\n              Severity: ${fire.severity}\n            </p>\n            <button onclick=\"window.selectFire('${fire.id}')\" style=\"\n              background: #3b82f6;\n              color: white;\n              border: none;\n              padding: 4px 8px;\n              border-radius: 4px;\n              margin-top: 8px;\n              cursor: pointer;\n              font-size: 12px;\n            \">View Prediction</button>\n          </div>\n        `).on('click',()=>handleFireClick(fire));markersRef.current.push(marker);});};// make it global\nuseEffect(()=>{window.selectFire=fireId=>{const fire=fires.find(f=>f.id===fireId);if(fire){handleFireClick(fire);}};return()=>{delete window.selectFire;};},[fires]);const getSeverityColorHex=severity=>{switch(severity){case'High':return'#ef4444';case'Medium':return'#f97316';case'Low':return'#eab308';default:return'#6b7280';}};// ========================================================================================================================================\n// This is where you would get the predictions from the model\n// right now its just all bullshit\n// ========================================================================================================================================\nconst fetchPrediction=async(fireId,fireData)=>{if(!fireData){console.error('No fire data provided');return;}setLoading(true);await new Promise(resolve=>setTimeout(resolve,2000));// some mock data, we would import this from the model in production\nconst mockPrediction={fireId:fireId,predictionDate:new Date(Date.now()+24*60*60*1000).toISOString(),estimatedSize:fireData.size*(1.2+Math.random()*0.8),confidence:Math.floor(Math.random()*20)+75,riskLevel:Math.random()>0.5?'High':'Critical',perimeter:[[fireData.lat+0.01,fireData.lng+0.01],[fireData.lat+0.02,fireData.lng+0.005],[fireData.lat+0.015,fireData.lng-0.01],[fireData.lat-0.005,fireData.lng-0.015],[fireData.lat-0.01,fireData.lng+0.005]]};// then we display the predictions into the UI\nsetPrediction(mockPrediction);setShowPrediction(true);setLoading(false);};const handleFireClick=fire=>{setSelectedFire(fire);fetchPrediction(fire.id,fire);if(mapInstanceRef.current&&window.L){zoomToFire(fire);}};const zoomToFire=fire=>{const map=mapInstanceRef.current;const L=window.L;try{if(fire.geometry){const tempGroup=L.layerGroup();if(fire.geometry.type==='Polygon'){const coords=fire.geometry.coordinates[0];if(coords&&coords.length>=3){const leafletCoords=coords.filter(coord=>Array.isArray(coord)&&coord.length>=2&&typeof coord[0]==='number'&&typeof coord[1]==='number'&&!isNaN(coord[0])&&!isNaN(coord[1])).map(coord=>[coord[1],coord[0]]);if(leafletCoords.length>=3){const polygon=L.polygon(leafletCoords);tempGroup.addLayer(polygon);}}}else if(fire.geometry.type==='MultiPolygon'){fire.geometry.coordinates.forEach(polygonCoords=>{const coords=polygonCoords[0];if(coords&&coords.length>=3){const leafletCoords=coords.filter(coord=>Array.isArray(coord)&&coord.length>=2&&typeof coord[0]==='number'&&typeof coord[1]==='number'&&!isNaN(coord[0])&&!isNaN(coord[1])).map(coord=>[coord[1],coord[0]]);if(leafletCoords.length>=3){const polygon=L.polygon(leafletCoords);tempGroup.addLayer(polygon);}}});}// fit the map to the fire's bounds with padding\nif(tempGroup.getLayers().length>0){const bounds=tempGroup.getBounds();map.fitBounds(bounds,{padding:[50,50],maxZoom:5});}else{map.setView([fire.lat,fire.lng],11);}}else{map.setView([fire.lat,fire.lng],11);}}catch(error){console.error('Error zooming to fire:',error);map.setView([fire.lat,fire.lng],11);}};// this is in the text when showing the severity of the fire\nconst getSeverityColor=severity=>{switch(severity){case'High':return'text-red-400';case'Medium':return'text-orange-400';case'Low':return'text-yellow-400';default:return'text-gray-400';}};// the date\nconst formatDate=isoString=>{if(!isoString)return'N/A';return new Date(isoString).toLocaleString();};const refreshData=async()=>{try{setIsLoadingData(true);setDataError(null);const realTimeFireData=await fetchRealTimeFireData();setFires(realTimeFireData);console.log('Data refreshed successfully');}catch(error){console.error('Failed to refresh data:',error);setDataError(error.message);}finally{setIsLoadingData(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen flex flex-col bg-gray-900 text-white\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-gray-800 p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Flame,{className:\"h-8 w-8 text-orange-500\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Wildfire Prediction Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:mapLayer,onChange:e=>setMapLayer(e.target.value),className:\"bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"satellite\",children:\"Satellite\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terrain\",children:\"Terrain\"}),/*#__PURE__*/_jsx(\"option\",{value:\"standard\",children:\"Standard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,disabled:isLoadingData,className:\"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:`h-4 w-4 ${isLoadingData?'animate-spin':''}`}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"w-full h-full\",style:{minHeight:'500px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 left-4 bg-gray-800 bg-opacity-95 backdrop-blur-sm rounded-lg p-4 shadow-xl max-w-sm z-[1000] border border-gray-600\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold mb-3 flex items-center text-white\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 mr-2 text-orange-500\"}),\"Active Fires (\",fires.length,\")\"]}),isLoadingData&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"Loading fire data...\"})]}),dataError&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900 bg-opacity-50 p-3 rounded-lg mb-3 border border-red-700\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-200\",children:[\"Backend Error: \",dataError]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-red-300 mt-1\",children:\"Check Flask server status and logs.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-48 overflow-y-auto\",children:fires.map(fire=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-700 bg-opacity-90 p-3 rounded-lg cursor-pointer hover:bg-gray-600 hover:bg-opacity-95 transition-all duration-200 border border-gray-600\",onClick:()=>handleFireClick(fire),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-white\",children:fire.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-200\",children:[fire.size,\" acres\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-300\",children:[\"Containment: \",fire.containment?`${fire.containment}%`:'N/A']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right ml-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-medium ${getSeverityColor(fire.severity)}`,children:fire.severity}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mt-1\",children:\"Click for prediction\"})]})]})},fire.id))})]})]}),showPrediction&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-96 bg-gray-800 p-6 overflow-y-auto shadow-xl border-l border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Fire Prediction\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPrediction(false),className:\"text-gray-400 hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center h-32\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Generating prediction...\"})]}):selectedFire&&prediction&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg mb-2\",children:selectedFire.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Size: \",selectedFire.size,\" acres\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Containment: \",selectedFire.containment?`${selectedFire.containment}%`:'N/A']}),/*#__PURE__*/_jsxs(\"div\",{className:getSeverityColor(selectedFire.severity),children:[\"Severity: \",selectedFire.severity]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Updated: \",formatDate(selectedFire.lastUpdate)]})]})]}),selectedFire.weather&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Thermometer,{className:\"h-4 w-4 mr-2\"}),\"Current Weather\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Temperature: \",selectedFire.weather.temperature,\"\\xB0F\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Humidity: \",selectedFire.weather.humidity,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Wind,{className:\"h-3 w-3 mr-1\"}),\"Wind: \",selectedFire.weather.windSpeed,\" mph \",selectedFire.weather.windDirection]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-900 bg-opacity-50 p-4 rounded-lg border border-red-700\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-2\"}),\"24-Hour Prediction\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Estimated Size: \",Math.round(prediction.estimatedSize),\" acres\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Growth: +\",Math.round(prediction.estimatedSize-selectedFire.size),\" acres\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Risk Level: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400 font-semibold\",children:prediction.riskLevel})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Confidence: \",prediction.confidence,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Prediction Date: \",formatDate(prediction.predictionDate)]})]})]})]})]})]})]});};export default WildfireDashboard;","map":{"version":3,"names":["React","useState","useEffect","useRef","Flame","AlertTriangle","Calendar","Thermometer","Wind","Eye","X","RefreshCw","jsx","_jsx","jsxs","_jsxs","fetchRealTimeFireData","console","log","response","fetch","method","headers","ok","Error","status","data","json","total","fires","error","WildfireDashboard","setFires","selectedFire","setSelectedFire","prediction","setPrediction","loading","setLoading","showPrediction","setShowPrediction","mapLayer","setMapLayer","dataError","setDataError","isLoadingData","setIsLoadingData","mapRef","mapInstanceRef","markersRef","polygonsRef","loadFireData","realTimeFireData","length","message","loadLeaflet","document","querySelector","link","createElement","rel","href","head","appendChild","window","L","script","src","onload","initializeMap","onerror","current","map","center","zoom","zoomControl","getTileUrl","layer","tileLayer","attribution","addTo","addFireMarkers","resizeObserver","ResizeObserver","invalidateSize","observe","remove","removeLayer","newTileLayer","addFirePolygons","fire","geometry","type","coords","coordinates","warn","name","leafletCoords","filter","coord","Array","isArray","isNaN","polygon","color","weight","opacity","fillColor","fillOpacity","push","forEach","polygonCoords","index","getIconSizeForSeverity","severity","size","fontSize","getSeverityBackgroundColor","marker","iconConfig","backgroundColor","fireIcon","divIcon","html","className","iconSize","iconAnchor","popupAnchor","lat","lng","icon","bindPopup","containment","getSeverityColorHex","id","on","handleFireClick","selectFire","fireId","find","f","fetchPrediction","fireData","Promise","resolve","setTimeout","mockPrediction","predictionDate","Date","now","toISOString","estimatedSize","Math","random","confidence","floor","riskLevel","perimeter","zoomToFire","tempGroup","layerGroup","addLayer","getLayers","bounds","getBounds","fitBounds","padding","maxZoom","setView","getSeverityColor","formatDate","isoString","toLocaleString","refreshData","children","value","onChange","e","target","onClick","disabled","ref","style","minHeight","lastUpdate","weather","temperature","humidity","windSpeed","windDirection","round"],"sources":["/Users/timothyha/firecast/frontend/src/WildfireDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Flame, AlertTriangle, Calendar, Thermometer, Wind, Eye, X, RefreshCw } from 'lucide-react';\n\n// ========================================================================================================================================\n// API calls to Flask backend\n// ========================================================================================================================================\n\nconst fetchRealTimeFireData = async () => {\n  try {\n    console.log(\"Fetching real-time fire data from Flask backend...\");\n    \n    const response = await fetch('http://localhost:5000/api/fires', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    \n    console.log(`Received ${data.total || 0} fires from backend`);\n    \n    return data.fires || [];\n  } catch (error) {\n    console.error('Failed to fetch fire data from backend:', error);\n    throw error;\n  }\n};\n\n// ========================================================================================================================================\n// Dashboard component\n// ========================================================================================================================================\n\nconst WildfireDashboard = () => {\n  //stuff with ui states\n  const [fires, setFires] = useState([]);\n  const [selectedFire, setSelectedFire] = useState(null);\n  const [prediction, setPrediction] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showPrediction, setShowPrediction] = useState(false);\n  const [mapLayer, setMapLayer] = useState('satellite');\n  const [dataError, setDataError] = useState(null);\n  const [isLoadingData, setIsLoadingData] = useState(true);\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef([]);\n  const polygonsRef = useRef([]);\n\n  useEffect(() => {\n    // Load real-time fire data when component mounts\n    const loadFireData = async () => {\n      try {\n        setIsLoadingData(true);\n        setDataError(null);\n        const realTimeFireData = await fetchRealTimeFireData();\n        setFires(realTimeFireData);\n        console.log('Fire data loaded successfully:', realTimeFireData.length, 'fires');\n      } catch (error) {\n        console.error('Failed to load real-time fire data:', error);\n        setDataError(error.message);\n        setFires([]); // Set empty array on error\n      } finally {\n        setIsLoadingData(false);\n      }\n    };\n  \n    loadFireData();\n    \n    // loading leaflet and css\n    const loadLeaflet = async () => {\n      try {\n        // adding css\n        if (!document.querySelector('link[href*=\"leaflet\"]')) {\n          const link = document.createElement('link');\n          link.rel = 'stylesheet';\n          link.href = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css';\n          document.head.appendChild(link);\n        }\n\n        // loading leaflet\n        if (!window.L) {\n          const script = document.createElement('script');\n          script.src = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js';\n          script.onload = () => {\n            console.log('Leaflet loaded successfully');\n            initializeMap();\n          };\n          script.onerror = () => {\n            console.error('Failed to load Leaflet');\n          };\n          document.head.appendChild(script);\n        } else {\n          initializeMap();\n        }\n      } catch (error) {\n        console.error('Error loading Leaflet:', error);\n      }\n    };\n    \n    //starting the map for the user\n    const initializeMap = () => {\n      if (!mapRef.current || mapInstanceRef.current) return;\n\n      try {\n        const L = window.L;\n        \n        // Initialize the map to be in San Francisco Bay Area\n        // we could use the user's location in real production, but this is just a default location\n        const map = L.map(mapRef.current, {\n          center: [37.7749, -122.4194],\n          zoom: 10,\n          zoomControl: false\n        });\n\n        // add tile layers because leaflet doesn't have satellite on default\n        const getTileUrl = (layer) => {\n          switch (layer) {\n            case 'satellite': //satellite\n              return 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';\n            case 'terrain': //terrain map\n              return 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';\n            default: //normal\n              return 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n          }\n        };\n        \n        // credits to open street map\n        const tileLayer = L.tileLayer(getTileUrl(mapLayer), {\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        // references\n        mapInstanceRef.current = map;\n        mapInstanceRef.current.tileLayer = tileLayer;\n\n        // add the markers when fires are loaded\n        if (fires.length > 0) {\n          addFireMarkers(map, L);\n        }\n\n        // map resizing\n        const resizeObserver = new ResizeObserver(() => {\n          map.invalidateSize();\n        });\n        resizeObserver.observe(mapRef.current);\n\n        console.log('Map initialized successfully');\n      } catch (error) {\n        console.error('Error initializing map:', error);\n      }\n    };\n\n    loadLeaflet();\n    \n    // actually display ts\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove();\n        mapInstanceRef.current = null;\n      }\n    };\n  }, []);\n\n  // change the tiles when the map type changes\n  useEffect(() => {\n    if (mapInstanceRef.current && mapInstanceRef.current.tileLayer) {\n      const L = window.L;\n      mapInstanceRef.current.removeLayer(mapInstanceRef.current.tileLayer);\n      \n      const getTileUrl = (layer) => {\n        switch (layer) {\n          case 'satellite':\n            return 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';\n          case 'terrain':\n            return 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';\n          default:\n            return 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        }\n      };\n\n      const newTileLayer = L.tileLayer(getTileUrl(mapLayer), {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      }).addTo(mapInstanceRef.current);\n\n      mapInstanceRef.current.tileLayer = newTileLayer;\n    }\n  }, [mapLayer]);\n\n  useEffect(() => {\n    if (mapInstanceRef.current && window.L && fires.length > 0) {\n      addFireMarkers(mapInstanceRef.current, window.L);\n    }\n  }, [fires]);\n\n  const addFirePolygons = (map, L, fire) => {\n    const { geometry } = fire;\n    \n    try {\n      if (geometry.type === 'Polygon') {\n        // For Polygon: coordinates[0] is the outer ring\n        const coords = geometry.coordinates[0];\n        \n        // Validate coordinates array\n        if (!coords || coords.length < 3) {\n          console.warn('Invalid polygon coordinates for fire:', fire.name);\n          return;\n        }\n        \n        // Convert [lng, lat] to [lat, lng] and filter out invalid coordinates\n        const leafletCoords = coords\n          .filter(coord => Array.isArray(coord) && coord.length >= 2 && \n                  typeof coord[0] === 'number' && typeof coord[1] === 'number' &&\n                  !isNaN(coord[0]) && !isNaN(coord[1]))\n          .map(coord => [coord[1], coord[0]]);\n        \n        if (leafletCoords.length < 3) {\n          console.warn('Not enough valid coordinates for polygon:', fire.name);\n          return;\n        }\n        \n        const polygon = L.polygon(leafletCoords, {\n          color: '#ef4444',\n          weight: 2,\n          opacity: 0.8,\n          fillColor: '#ef4444',\n          fillOpacity: 0.2\n        }).addTo(map);\n        \n        polygonsRef.current.push(polygon);\n        \n      } else if (geometry.type === 'MultiPolygon') {\n        geometry.coordinates.forEach((polygonCoords, index) => {\n          const coords = polygonCoords[0]; // outer ring\n\n          if (!coords || coords.length < 3) {\n            console.warn(`Invalid polygon coordinates for fire ${fire.name}, polygon ${index}`);\n            return;\n          }\n          \n\n          const leafletCoords = coords\n            .filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])) .map(coord => [coord[1], coord[0]]);\n          \n          if (leafletCoords.length < 3) {\n            console.warn(`Not enough valid coordinates for polygon ${index} of fire:`, fire.name);\n            return;\n          }\n          \n          const polygon = L.polygon(leafletCoords, {\n            color: '#ef4444',\n            weight: 2,\n            opacity: 0.8,\n            fillColor: '#ef4444',\n            fillOpacity: 0.2\n          }).addTo(map);\n          \n          polygonsRef.current.push(polygon);\n        });\n      }\n    } catch (error) {\n      console.error('Error adding fire polygon for', fire.name, ':', error);\n    }\n  };\n\n  const getIconSizeForSeverity = (severity) => {\n    switch (severity) {\n      case 'High':\n        return { size: 48, fontSize: '24px' };\n      case 'Medium':\n        return { size: 36, fontSize: '18px' };\n      case 'Low':\n      default:\n        return { size: 24, fontSize: '12px' };\n    }\n  };\n\n  const getSeverityBackgroundColor = (severity) => {\n    switch (severity) {\n      case 'High':\n        return '#ef4444';\n      case 'Medium':\n        return '#f97316';\n      case 'Low':\n      default:\n        return '#eab308';\n    }\n  };\n\n  const addFireMarkers = (map, L) => {\n    // clearing markers and polygons\n    markersRef.current.forEach(marker => map.removeLayer(marker));\n    polygonsRef.current.forEach(polygon => map.removeLayer(polygon));\n    markersRef.current = [];\n    polygonsRef.current = [];\n\n    // markers for the fire\n    fires.forEach(fire => {\n      // Add polygon outlines\n      addFirePolygons(map, L, fire);\n      \n      // Get icon size and background color based on severity\n      const iconConfig = getIconSizeForSeverity(fire.severity);\n      const backgroundColor = getSeverityBackgroundColor(fire.severity);\n      \n      // fire icon with dynamic sizing and color\n      const fireIcon = L.divIcon({\n        html: `<div style=\"\n          background: ${backgroundColor};\n          width: ${iconConfig.size}px;\n          height: ${iconConfig.size}px;\n          border-radius: 50%;\n          border: 3px solid white;\n          box-shadow: 0 2px 8px rgba(0,0,0,0.4);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: ${iconConfig.fontSize};\n          cursor: pointer;\n        \">ðŸ”¥</div>`,\n        className: 'fire-marker',\n        iconSize: [iconConfig.size, iconConfig.size],\n        iconAnchor: [iconConfig.size / 2, iconConfig.size / 2],\n        popupAnchor: [0, -iconConfig.size / 2]\n      });\n      \n      // Add marker\n      const marker = L.marker([fire.lat, fire.lng], { icon: fireIcon })\n        .addTo(map)\n        .bindPopup(`\n          <div style=\"color: #374151; font-family: system-ui;\">\n            <h3 style=\"font-weight: bold; font-size: 16px; margin: 0 0 8px 0;\">${fire.name}</h3>\n            <p style=\"margin: 2px 0;\">Size: ${fire.size} acres</p>\n            <p style=\"margin: 2px 0;\">Containment: ${fire.containment ? `${fire.containment}%` : 'N/A'}</p>\n            <p style=\"margin: 2px 0; color: ${getSeverityColorHex(fire.severity)}; font-weight: 600;\">\n              Severity: ${fire.severity}\n            </p>\n            <button onclick=\"window.selectFire('${fire.id}')\" style=\"\n              background: #3b82f6;\n              color: white;\n              border: none;\n              padding: 4px 8px;\n              border-radius: 4px;\n              margin-top: 8px;\n              cursor: pointer;\n              font-size: 12px;\n            \">View Prediction</button>\n          </div>\n        `)\n        .on('click', () => handleFireClick(fire));\n\n      markersRef.current.push(marker);\n    });\n  };\n\n  // make it global\n  useEffect(() => {\n    window.selectFire = (fireId) => {\n      const fire = fires.find(f => f.id === fireId);\n      if (fire) {\n        handleFireClick(fire);\n      }\n    };\n    \n    return () => {\n      delete window.selectFire;\n    };\n  }, [fires]);\n\n  const getSeverityColorHex = (severity) => {\n    switch (severity) {\n      case 'High': return '#ef4444';\n      case 'Medium': return '#f97316';\n      case 'Low': return '#eab308';\n      default: return '#6b7280';\n    }\n  };\n  \n  // ========================================================================================================================================\n  // This is where you would get the predictions from the model\n  // right now its just all bullshit\n  // ========================================================================================================================================\n  const fetchPrediction = async (fireId, fireData) => {\n    if (!fireData) {\n      console.error('No fire data provided');\n      return;\n    }\n    \n    setLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    // some mock data, we would import this from the model in production\n    const mockPrediction = {\n      fireId: fireId,\n      predictionDate: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n      estimatedSize: fireData.size * (1.2 + Math.random() * 0.8),\n      confidence: Math.floor(Math.random() * 20) + 75,\n      riskLevel: Math.random() > 0.5 ? 'High' : 'Critical',\n      perimeter: [\n        [fireData.lat + 0.01, fireData.lng + 0.01],\n        [fireData.lat + 0.02, fireData.lng + 0.005],\n        [fireData.lat + 0.015, fireData.lng - 0.01],\n        [fireData.lat - 0.005, fireData.lng - 0.015],\n        [fireData.lat - 0.01, fireData.lng + 0.005]\n      ]\n    };\n    // then we display the predictions into the UI\n    setPrediction(mockPrediction);\n    setShowPrediction(true);\n    setLoading(false);\n  };\n\n  const handleFireClick = (fire) => {\n    setSelectedFire(fire);\n    fetchPrediction(fire.id, fire);\n    if (mapInstanceRef.current && window.L) {\n      zoomToFire(fire);\n    }\n  };\n\n  const zoomToFire = (fire) => {\n    const map = mapInstanceRef.current;\n    const L = window.L;\n    \n    try {\n      if (fire.geometry) {\n        const tempGroup = L.layerGroup();\n        \n        if (fire.geometry.type === 'Polygon') {\n          const coords = fire.geometry.coordinates[0];\n          if (coords && coords.length >= 3) {\n            const leafletCoords = coords\n              .filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])) .map(coord => [coord[1], coord[0]]);\n            if (leafletCoords.length >= 3) {\n              const polygon = L.polygon(leafletCoords);\n              tempGroup.addLayer(polygon);\n            }\n          }\n        } else if (fire.geometry.type === 'MultiPolygon') {\n          fire.geometry.coordinates.forEach(polygonCoords => {\n            const coords = polygonCoords[0];\n            if (coords && coords.length >= 3) {\n              const leafletCoords = coords\n                .filter(coord => Array.isArray(coord) && coord.length >= 2 && typeof coord[0] === 'number' && typeof coord[1] === 'number' && !isNaN(coord[0]) && !isNaN(coord[1])) .map(coord => [coord[1], coord[0]]);\n              if (leafletCoords.length >= 3) {\n                const polygon = L.polygon(leafletCoords);\n                tempGroup.addLayer(polygon);\n              }\n            }\n          });\n        }\n        \n        // fit the map to the fire's bounds with padding\n        if (tempGroup.getLayers().length > 0) {\n          const bounds = tempGroup.getBounds();\n          map.fitBounds(bounds, {\n            padding: [50, 50], \n            maxZoom: 5\n          });\n        } else {\n          map.setView([fire.lat, fire.lng], 11);\n        }\n      } else {\n        map.setView([fire.lat, fire.lng], 11);\n      }\n    } catch (error) {\n      console.error('Error zooming to fire:', error);\n      map.setView([fire.lat, fire.lng], 11);\n    }\n  };\n  \n  // this is in the text when showing the severity of the fire\n  const getSeverityColor = (severity) => {\n    switch (severity) {\n      case 'High': return 'text-red-400';\n      case 'Medium': return 'text-orange-400';\n      case 'Low': return 'text-yellow-400';\n      default: return 'text-gray-400';\n    }\n  };\n  \n  // the date\n  const formatDate = (isoString) => {\n    if (!isoString) return 'N/A';\n    return new Date(isoString).toLocaleString();\n  };\n\n  const refreshData = async () => {\n    try {\n      setIsLoadingData(true);\n      setDataError(null);\n      const realTimeFireData = await fetchRealTimeFireData();\n      setFires(realTimeFireData);\n      console.log('Data refreshed successfully');\n    } catch (error) {\n      console.error('Failed to refresh data:', error);\n      setDataError(error.message);\n    } finally {\n      setIsLoadingData(false);\n    }\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-900 text-white\">\n      {/* the header at the top with like the logo and other settings */}\n      <header className=\"bg-gray-800 p-4 shadow-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <Flame className=\"h-8 w-8 text-orange-500\" />\n            <h1 className=\"text-2xl font-bold\">Wildfire Prediction Dashboard</h1>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <select \n              value={mapLayer} \n              onChange={(e) => setMapLayer(e.target.value)}\n              className=\"bg-gray-700 text-white px-3 py-2 rounded-lg border border-gray-600\"\n            >\n              <option value=\"satellite\">Satellite</option>\n              <option value=\"terrain\">Terrain</option>\n              <option value=\"standard\">Standard</option>\n            </select>\n            <button \n              onClick={refreshData}\n              disabled={isLoadingData}\n              className=\"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50\"\n            >\n              <RefreshCw className={`h-4 w-4 ${isLoadingData ? 'animate-spin' : ''}`} />\n              <span>Refresh</span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* the actual map itself */}\n        <div className=\"flex-1 relative\">\n          <div \n            ref={mapRef} \n            className=\"w-full h-full\"\n            style={{ minHeight: '500px' }}\n          />\n\n          {/* this is that thing that pops up when u click on the icon */}\n          <div className=\"absolute top-4 left-4 bg-gray-800 bg-opacity-95 backdrop-blur-sm rounded-lg p-4 shadow-xl max-w-sm z-[1000] border border-gray-600\">\n            <h3 className=\"text-lg font-bold mb-3 flex items-center text-white\">\n              <AlertTriangle className=\"h-5 w-5 mr-2 text-orange-500\" />\n              Active Fires ({fires.length})\n            </h3>\n            \n            {isLoadingData && (\n              <div className=\"flex items-center justify-center py-4\">\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500\"></div>\n                <span className=\"ml-2 text-sm\">Loading fire data...</span>\n              </div>\n            )}\n            \n            {dataError && (\n              <div className=\"bg-red-900 bg-opacity-50 p-3 rounded-lg mb-3 border border-red-700\">\n                <p className=\"text-sm text-red-200\">Backend Error: {dataError}</p>\n                <p className=\"text-xs text-red-300 mt-1\">Check Flask server status and logs.</p>\n              </div>\n            )}\n            \n            <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n              {fires.map((fire) => (\n                <div\n                  key={fire.id}\n                  className=\"bg-gray-700 bg-opacity-90 p-3 rounded-lg cursor-pointer hover:bg-gray-600 hover:bg-opacity-95 transition-all duration-200 border border-gray-600\"\n                  onClick={() => handleFireClick(fire)}\n                >\n                  <div className=\"flex justify-between items-start\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-semibold text-white\">{fire.name}</h4>\n                      <p className=\"text-sm text-gray-200\">{fire.size} acres</p>\n                      <p className=\"text-xs text-gray-300\">Containment: {fire.containment ? `${fire.containment}%` : 'N/A'}</p>\n                    </div>\n                    <div className=\"text-right ml-2\">\n                      <span className={`text-sm font-medium ${getSeverityColor(fire.severity)}`}>\n                        {fire.severity}\n                      </span>\n                      <div className=\"text-xs text-gray-400 mt-1\">\n                        Click for prediction\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* panel where it shows predictions (the one on the right) */}\n        {showPrediction && (\n          <div className=\"w-96 bg-gray-800 p-6 overflow-y-auto shadow-xl border-l border-gray-700\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-xl font-bold\">Fire Prediction</h2>\n              <button\n                onClick={() => setShowPrediction(false)}\n                className=\"text-gray-400 hover:text-white transition-colors\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </div>\n\n            {loading ? (\n              <div className=\"flex items-center justify-center h-32\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500\"></div>\n                <span className=\"ml-2\">Generating prediction...</span>\n              </div>\n            ) : (\n              selectedFire && prediction && (\n                <div className=\"space-y-6\">\n                  {/* fire info */}\n                  <div className=\"bg-gray-700 p-4 rounded-lg\">\n                    <h3 className=\"font-semibold text-lg mb-2\">{selectedFire.name}</h3>\n                    <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                      <div>Size: {selectedFire.size} acres</div>\n                      <div>Containment: {selectedFire.containment ? `${selectedFire.containment}%` : 'N/A'}</div>\n                      <div className={getSeverityColor(selectedFire.severity)}>\n                        Severity: {selectedFire.severity}\n                      </div>\n                      <div>Updated: {formatDate(selectedFire.lastUpdate)}</div>\n                    </div>\n                  </div>\n\n                  {/* weather data */}\n                  {selectedFire.weather && (\n                    <div className=\"bg-gray-700 p-4 rounded-lg\">\n                      <h4 className=\"font-semibold mb-2 flex items-center\">\n                        <Thermometer className=\"h-4 w-4 mr-2\" />\n                        Current Weather\n                      </h4>\n                      <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                        <div>Temperature: {selectedFire.weather.temperature}Â°F</div>\n                        <div>Humidity: {selectedFire.weather.humidity}%</div>\n                        <div className=\"flex items-center\">\n                          <Wind className=\"h-3 w-3 mr-1\" />\n                          Wind: {selectedFire.weather.windSpeed} mph {selectedFire.weather.windDirection}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* predictions */}\n                  <div className=\"bg-red-900 bg-opacity-50 p-4 rounded-lg border border-red-700\">\n                    <h4 className=\"font-semibold mb-2 flex items-center\">\n                      <Calendar className=\"h-4 w-4 mr-2\" />\n                      24-Hour Prediction\n                    </h4>\n                    <div className=\"space-y-2 text-sm\">\n                      <div>Estimated Size: {Math.round(prediction.estimatedSize)} acres</div>\n                      <div>Growth: +{Math.round(prediction.estimatedSize - selectedFire.size)} acres</div>\n                      <div>Risk Level: <span className=\"text-red-400 font-semibold\">{prediction.riskLevel}</span></div>\n                      <div>Confidence: {prediction.confidence}%</div>\n                      <div>Prediction Date: {formatDate(prediction.predictionDate)}</div>\n                    </div>\n                  </div>\n                </div> \n              )\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WildfireDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}